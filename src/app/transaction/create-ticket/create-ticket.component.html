<div class="container-fluid mt-5 pt-5 animated fadeIn zoomIn">

  <div class="row d-flex justify-content-center">

    <div class="col-lg-9 col-md-11 col-xs-12">

      <div class="jumbotron hoverable">

        <!--Contact Form-->
        <form [formGroup]="createTicketForm" (ngSubmit)="createTicket()" class="md-form">
          <div class="customHeader z-depth-2">
            <h4 class="card-title">
              <i class="fa fa-ticket" aria-hidden="true"></i>
              <strong>Create Ticket</strong>
            </h4>
          </div>
          <hr>
          <div class="row">
            <div class="md-form col-12">
              <div class="card">
                <div class="card-header">Please add subject line</div>
                <div class="card-body">
                  <div class="row">
                    <div class="col">
                      <label for="Subject">Subject</label>
                      <input mdbInputDirective type="text" formControlName="Subject" class="form-control" mdbActive>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="md-form col-12">
              <div class="card">
                <div class="card-header">Description</div>
                <div class="card-body">
                  <div class="row">
                    <div class="col">
                      <textarea mdbInputDirective mdbActive type="text" class="md-textarea
                        form-control" rows="3" formControlName="TicketDescription"></textarea>
                      <label for="TicketDescription">Description</label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="md-form col-6">
              <div class="card">
                <div class="card-header">Please select company</div>
                <div class="card-body">
                  <mat-select placeholder="Company" name="CompanyID" formControlName="CompanyID" (selectionChange)="loadProjects()" ngDefaultControl>
                    <mat-option *ngFor="let company of companyList" [value]="company.Oid">
                      {{company.CompanyName}}
                    </mat-option>
                  </mat-select>
                </div>
              </div>
            </div>
            <!-- </div>
          <div class="row"> -->
            <div class="md-form col-6">
              <div [hidden]="createTicketForm.get('CompanyID').value == null">
                <div class="card animated zoomIn">
                  <div class="card-header">Please select project</div>
                  <div class="card-body">
                    <mat-select placeholder="Project" name="ProjectID" formControlName="ProjectID" (selectionChange)="updateTicketType();loadTeams()">
                      <mat-option *ngFor="let item of projectList" [value]="item.Oid">
                        {{item.ProjectName}}
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="md-form col-md-6">
              <div class="card">
                <div class="card-header">Please select ticket type</div>
                <div class="card-body">
                  <mat-select placeholder="TicketType" name="TicketType" formControlName="TicketType" ngDefaultControl>
                    <mat-option *ngFor="let item of ticketTypeList" [value]="item.Oid">
                      {{item.TypeName}}
                    </mat-option>
                  </mat-select>
                </div>
              </div>
            </div>
            <div class="md-form col-md-6">
              <div class="card">
                <div class="card-header">Please provide priority</div>
                <div class="card-body">
                  <mat-select placeholder="Priority" name="Priority" formControlName="Priority" ngDefaultControl>
                    <mat-option *ngFor="let item of priorityList" [value]="item.value">
                      {{item.viewValue}}
                    </mat-option>
                  </mat-select>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="md-form col-md-6">
              <div class="card">
                <div class="card-header">Please select team</div>
                <div class="card-body">
                  <mat-select placeholder="Team" name="TeamID" formControlName="TeamID" (selectionChange)="loadTeamMembers()" ngDefaultControl>
                    <mat-option *ngFor="let item of teamList" [value]="item.Oid">
                      {{item.TeamName}}
                    </mat-option>
                  </mat-select>
                </div>
              </div>
            </div>
            <div class="md-form col-md-6">
              <div class="card">
                <div class="card-header">Assign ticket to</div>
                <div class="card-body">
                  <mat-select placeholder="AssignUser" name="AssignTo" formControlName="AssignTo" ngDefaultControl>
                    <mat-option *ngFor="let item of assignToUserList" [value]="item.Oid">
                      {{item.UserName}}
                    </mat-option>
                  </mat-select>
                </div>
              </div>
            </div>
          </div>

          <div class="text-right">
            <input mdbInputDirective type="file" id="file" (change)="handleFileInput($event.target.files); uploadFileToActivity()">
            <button class="btn indigo waves-light" type="submit" mdbWavesEffect [disabled]="!createTicketForm.valid">
              Save
            </button>
            <button type="button" class="btn btn-danger waves-light" routerLink="../" mdbWavesEffect>
              Close
            </button>
          </div>

        </form>
        <!--Contact Form-->


      </div>

    </div>

  </div>

</div>
<!-- 
<div>
  <label>PDF src</label>
  <input mdbInputDirective type="text" placeholder="PDF src" [(ngModel)]="pdfSrc">
</div>
<div class="row">
  <div class="col">
    <pdf-viewer [src]="pdfSrc" [render-text]="true" style="display: block;"></pdf-viewer>
  </div>
</div> -->
